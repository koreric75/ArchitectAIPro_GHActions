%% Generated by Architect AI Pro | BlueFalconInk LLC
%% https://architect-ai-pro-mobile-edition-484078543321.us-west1.run.app/
graph TD
    subgraph "BlueFalconInk LLC - ArchitectAIPro_GHActions Architecture"
        subgraph "User Interaction"
            User[End User]
            Developer[Developer]
        end

        subgraph "Security"
            CLB[Cloud Load Balancer]
            CA[Cloud Armor]
        end
        style Security fill:#1E40AF,color:#BFDBFE

        subgraph "Application Layer"
            style Application Layer fill:#1E3A5F,color:#F8FAFC
            CHADDash[CHAD Dashboard Â· Cloud Run]
            ArchGallery[Architecture Gallery Â· Cloud Run]
            GHActions[GitHub Actions Workflows]
        end

        subgraph "CI/CD & IaC"
            CB[Cloud Build]
            TF[Terraform]
        end

        subgraph "Data & Storage"
            style Data & Storage fill:#0F172A,color:#F8FAFC
            GHRepos[GitHub Repositories]
            AR[Artifact Registry]
            GSM[GCP Secret Manager]
        end

        subgraph "External Integrations"
            GeminiAPI[Google Gemini API]
            DrawioCLI[Draw.io CLI - headless]
            Trivy[Trivy Container Scanner]
        end

        %% Data Flows
        User -->|View Dashboard/Gallery via HTTPS| CLB
        Developer -->|Push Code/Trigger Workflows| GHRepos
        CLB -->|Filter Traffic| CA
        CA -->|Route Requests| CHADDash
        CA -->|Route Requests| ArchGallery

        CHADDash -->|Serve Dashboard HTML/API| User
        CHADDash -->|On-demand Audit repo_auditor.py subprocess| GHRepos
        CHADDash -->|Generate Dashboard HTML dashboard_generator.py subprocess| CHADDash
        ArchGallery -->|Fetch Repo Data/Diagrams| GHRepos

        GHActions -->|Code Scan, Workflow Orchestration| GHRepos
        GHActions -->|Generate Diagram generate_diagram.py| GeminiAPI
        GHActions -->|Convert Diagram generate_diagram.py| DrawioCLI
        GHActions -->|Audit Diagram foreman_audit.py| GHActions
        GHActions -->|Scheduled Audit repo_auditor.py| GHRepos
        GHActions -->|Generate Dashboard Artifact dashboard_generator.py| GHActions
        GHActions -->|Cleanup Repos cleanup_agent.py| GHRepos
        GHActions -->|Build Docker Image cloudbuild-dashboard.yaml| CB
        GHActions -->|Deploy Infra deploy-infra.yml| TF
        GHActions -->|Retrieve Secrets| GSM

        CB -->|Build Docker Images| AR
        CB -->|Scan Images| Trivy
        TF -->|Provision/Manage GCP Resources| AR
        TF -->|Provision/Manage GCP Resources| GSM
        TF -->|Provision/Manage GCP Resources| CHADDash
        TF -->|Provision/Manage GCP Resources| ArchGallery
        TF -->|Provision/Manage GCP Resources| CLB
        TF -->|Provision/Manage GCP Resources| CA

        AR -->|Store Docker Images| CHADDash
        AR -->|Store Docker Images| ArchGallery

        GSM -->|Provide API Keys/Tokens| GHActions
        GSM -->|Provide API Keys/Tokens| CHADDash
        GSM -->|Provide API Keys/Tokens| ArchGallery

    end

    FOOTER[ğŸ—ï¸ Created with Architect AI Pro Â· BlueFalconInk LLC]
    style FOOTER fill:#1E40AF,color:#BFDBFE,stroke:#3B82F6