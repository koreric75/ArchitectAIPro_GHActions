%% Generated by Architect AI Pro | BlueFalconInk LLC
%% https://architect-ai-pro-mobile-edition-484078543321.us-west1.run.app/
graph TD
    subgraph Main["BlueFalconInk LLC â€” ArchitectAIPro_GHActions Architecture"]
        subgraph ExtSys["External Systems"]
            User([GitHub User])
            GHRepos[(GitHub Repositories)]
            GeminiAPI([Google Gemini API])
            GHAPI([GitHub API])
        end

        subgraph FrontEnd["Frontend & Public Access"]
            CloudArmor[Cloud Armor Â· WAF]
            CloudLB[Cloud Load Balancer]
            CHADDash[CHAD Dashboard Â· Cloud Run]
            ArchGallery[Architecture Gallery Â· Cloud Run]
        end

        subgraph AppSvc["Application Services"]
            ArchitectAIApp[Architect AI Pro Â· Cloud Run]
            PyScripts[Python Scripts Â· Generator, Auditor, Cleanup]
            ForemanAudit[Foreman Compliance Auditor]
            DrawIO[Draw.io Desktop Â· Headless Renderer]
        end

        subgraph CICD["CI/CD & Automation"]
            GHActions[GitHub Actions]
            CloudBuild[Cloud Build]
            Bandit[Bandit Â· SAST Scanner]
            PipAudit[pip-audit Â· Dependency Scanner]
            Safety[Safety Â· Dependency Scanner]
            Trivy[Trivy Â· Container Scanner]
        end

        subgraph IaC["Infrastructure as Code"]
            Terraform[Terraform]
            GCPProject[BlueFalconInk GCP Project]
            WIF[Workload Identity Federation]
            SecretMgr[GCP Secret Manager]
        end

        subgraph DataLayer["Data Layer"]
            ArtifactRegistry[(GCP Artifact Registry)]
            SARIFReports[(GitHub Security Tab Â· SARIF)]
            RepoDocs[(Repository Docs)]
            ArchConfig[ARCHITECT_CONFIG.json]
            PromptLib[PROMPT_LIBRARY]
        end
    end

    FOOTER[ðŸ—ï¸ Created with Architect AI Pro Â· BlueFalconInk LLC]

    %% --- User Access Flows ---
    User -->|Browser Access| CloudLB
    CloudLB -->|HTTPS Traffic| CloudArmor
    CloudArmor -->|Route to Dashboard| CHADDash
    CloudArmor -->|Route to Gallery| ArchGallery

    %% --- Developer Flows ---
    User -->|Code Push / PR| GHRepos
    GHRepos -->|Trigger Workflow| GHActions
    GHActions -->|Read Config| ArchConfig
    GHActions -->|Read Prompts| PromptLib
    GHActions -->|Execute Scripts| PyScripts
    GHActions -->|Authenticate| WIF
    WIF -->|Access Secrets| SecretMgr

    %% --- Diagram Generation ---
    PyScripts -->|Generate Diagram Request| GeminiAPI
    PyScripts -->|Render to PNG| DrawIO
    PyScripts -->|Compliance Audit| ForemanAudit
    PyScripts -->|Commit Artifacts| RepoDocs
    PyScripts -->|Fetch Repo Data| GHAPI

    %% --- Container Build & Deploy ---
    GHActions -->|Build Docker Image| CloudBuild
    CloudBuild -->|Store Image| ArtifactRegistry
    ArtifactRegistry -->|Deploy Dashboard| CHADDash
    ArtifactRegistry -->|Deploy Gallery| ArchGallery

    %% --- Infrastructure ---
    GHActions -->|Run Terraform| Terraform
    Terraform -->|Provision Resources| GCPProject

    %% --- Security Scanning ---
    GHActions -->|SAST Scan| Bandit
    GHActions -->|Dependency Scan| PipAudit
    GHActions -->|Dependency Scan| Safety
    GHActions -->|Container Scan| Trivy
    Bandit -->|Upload SARIF| SARIFReports
    PipAudit -->|Upload SARIF| SARIFReports
    Safety -->|Upload SARIF| SARIFReports
    Trivy -->|Upload SARIF| SARIFReports

    %% --- Dashboard Runtime ---
    CHADDash -->|Serve Dashboard| User
    CHADDash -->|On-demand Audit| PyScripts
    ArchGallery -->|Fetch Repo Data| GHAPI

    %% --- Styles ---
    classDef extNode fill:#374151,color:#F9FAFB,stroke:#6B7280
    classDef frontNode fill:#1E3A5F,color:#BFDBFE,stroke:#3B82F6
    classDef appNode fill:#1E3A5F,color:#BFDBFE,stroke:#3B82F6
    classDef ciNode fill:#7C3AED,color:#EDE9FE,stroke:#8B5CF6
    classDef iacNode fill:#065F46,color:#D1FAE5,stroke:#10B981
    classDef dataNode fill:#0F172A,color:#E2E8F0,stroke:#475569
    classDef footer fill:#1E40AF,color:#BFDBFE,stroke:#3B82F6

    class User,GHRepos,GeminiAPI,GHAPI extNode
    class CloudArmor,CloudLB,CHADDash,ArchGallery frontNode
    class ArchitectAIApp,PyScripts,ForemanAudit,DrawIO appNode
    class GHActions,CloudBuild,Bandit,PipAudit,Safety,Trivy ciNode
    class Terraform,GCPProject,WIF,SecretMgr iacNode
    class ArtifactRegistry,SARIFReports,RepoDocs,ArchConfig,PromptLib dataNode
    class FOOTER footer