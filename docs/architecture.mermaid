%% Generated by Architect AI Pro | BlueFalconInk LLC
%% https://architect-ai-pro-mobile-edition-484078543321.us-west1.run.app/
graph TD
    subgraph "BlueFalconInk LLC - ArchitectAIPro_GHActions Architecture"
        subgraph "External Systems"
            User[End User]
            GitHubRepos[GitHub Repositories]
            GeminiAPI[Google Gemini API]
            DrawIOCLI[Draw.io CLI Renderer]
            MermaidInkAPI[Mermaid.ink API]
        end

        subgraph "Security"
            style Security fill:#1E40AF,color:#BFDBFE
            GCP_LB[GCP Load Balancer]
            CloudArmor[Cloud Armor]
            CloudLoadBalancer[Cloud Load Balancer]
            APIGateway[API Gateway]
            WIF[Workload Identity Federation]
            SecretManager[GCP Secret Manager]
            CloudCDN[Cloud CDN]
        end

        subgraph "CI/CD & Deployment"
            GHActions[GitHub Actions Workflows]
            CloudBuild[Cloud Build]
            ArtifactRegistry[GCP Artifact Registry]
            Terraform[Terraform IaC]
        end

        subgraph "Application Services"
            style Application fill:#1E3A5F,color:#BFDBFE
            ArchitectAIProCR[Architect AI Pro Â· Cloud Run]
            CHADDashboardCR[CHAD Dashboard Â· Cloud Run]
            GalleryServiceCR[Architecture Gallery Â· Cloud Run]
        end

        subgraph "Automation Engine Scripts"
            DiagramGenerator[Diagram Generator Â· Python]
            ForemanAudit[Foreman Audit Engine Â· Python]
            RepoAuditor[Repo Auditor Â· Python]
            DashboardGenerator[Dashboard Generator Â· Python]
            CleanupAgent[Cleanup Agent Â· Python]
            MermaidPlugins[Mermaid Conversion Plugins Â· Python]
        end

        subgraph "Data & Configuration"
            style Data fill:#0F172A,color:#BFDBFE
            ArchitectConfig[Architect Config Â· JSON]
            PromptLibrary[Prompt Library Â· MD]
            AuditReports[Audit Reports Â· JSON]
            GeneratedDiagrams[Generated Diagrams Â· MD/Mermaid/Draw.io/PNG]
        end

        %% Data Flows
        User -->|Access via HTTPS| CloudLoadBalancer
        CloudLoadBalancer -->|Routes Traffic| CloudArmor
        CloudArmor -->|Protected Traffic| CloudCDN
        CloudCDN -->|Serves Content| ArchitectAIProCR
        CloudCDN -->|Serves Content| CHADDashboardCR
        CloudCDN -->|Serves Content| GalleryServiceCR

        User -->|API Refresh Request| APIGateway
        APIGateway -->|Invokes Refresh API| CHADDashboardCR

        CHADDashboardCR -->|Executes internally| RepoAuditor
        CHADDashboardCR -->|Executes internally| DashboardGenerator

        GitHubRepos -->|Push Events| GHActions
        GHActions -->|Authenticates via| WIF
        WIF -->|Access Credentials| SecretManager
        SecretManager -->|Provides API Keys| GHActions

        GHActions -->|Orchestrates Diagram Gen| DiagramGenerator
        GHActions -->|Orchestrates Audit| ForemanAudit
        GHActions -->|Orchestrates Repo Scan| RepoAuditor
        GHActions -->|Orchestrates Dashboard Gen| DashboardGenerator
        GHActions -->|Orchestrates Cleanup| CleanupAgent
        GHActions -->|Deploys Infra| Terraform
        GHActions -->|Triggers Build| CloudBuild

        DiagramGenerator -->|Reads Config| ArchitectConfig
        DiagramGenerator -->|Reads Prompts| PromptLibrary
        DiagramGenerator -->|Scans Code| GitHubRepos
        DiagramGenerator -->|Calls API| GeminiAPI
        GeminiAPI -->|Returns Mermaid| DiagramGenerator
        DiagramGenerator -->|Saves| GeneratedDiagrams
        DiagramGenerator -->|Uses| MermaidPlugins
        MermaidPlugins -->|Converts to Draw.io| DrawIOCLI
        MermaidPlugins -->|Converts to Excalidraw| GeneratedDiagrams
        DrawIOCLI -->|Renders PNG| GeneratedDiagrams
        DiagramGenerator -->|Fallback PNG| MermaidInkAPI
        MermaidInkAPI -->|Returns PNG| GeneratedDiagrams

        ForemanAudit -->|Reads Diagram| GeneratedDiagrams
        ForemanAudit -->|Reads Config| ArchitectConfig
        ForemanAudit -->|Outputs Report| AuditReports

        RepoAuditor -->|Scans Repos via API| GitHubRepos
        RepoAuditor -->|Outputs Report| AuditReports

        DashboardGenerator -->|Reads Report| AuditReports
        DashboardGenerator -->|Generates HTML/JSON| CHADDashboardCR

        CleanupAgent -->|Modifies Repos via API| GitHubRepos
        CleanupAgent -->|Reads Config| ArchitectConfig

        Terraform
    FOOTER[ğŸ—ï¸ Created with Architect AI Pro Â· BlueFalconInk LLC]
    style FOOTER fill:#1E40AF,color:#BFDBFE,stroke:#3B82F6